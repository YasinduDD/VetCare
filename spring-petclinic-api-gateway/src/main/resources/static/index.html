<body onload="checkLogin()">
    <!-- Login Portal -->
    <div id="login-section" class="container" style="margin-top:100px; max-width: 400px;">
        <h2 class="text-center">Login</h2>
        <div class="form-group">
            <label>Username</label>
            <input type="text" id="username" class="form-control" required />
        </div>
        <div class="form-group">
            <label>Password</label>
            <input type="password" id="password" class="form-control" required />
        </div>
        <div class="form-group text-center" style="margin-top: 10px;">
            <button onclick="login()" class="btn btn-primary">Login</button>
        </div>
        <div id="login-error" class="text-danger text-center" style="display: none; margin-top: 10px;">
            Invalid username or password.
        </div>
    </div>
    
    <!-- Main App UI -->
    <div id="main-app" style="display: none;">
        <layout-nav></layout-nav>
        <div class="container-fluid">
            <div class="container xd-container">
                <div ui-view=""></div>
            </div>
        </div>
    
        <div class="chatbox" id="chatbox">
            <button class="chatbox-header" onclick="toggleChatbox()">
                Chat with Us!
            </button>
            <div class="chatbox-content" id="chatbox-content">
                <div class="chatbox-messages" id="chatbox-messages">
                    <!-- Chat messages will be dynamically inserted here -->
                </div>
                <div class="chatbox-footer">
                    <input type="text" id="chatbox-input" placeholder="Type a message..." onkeydown="handleKeyPress(event)" />
                    <button onclick="sendMessage()">Send</button>
                </div>
            </div>
        </div>
    
        <layout-footer></layout-footer>
    </div>
    
    <script>
        function login() {
            const username = document.getElementById("username").value;
            const password = document.getElementById("password").value;
            const validUsername = "admin";
            const validPassword = "admin123";
    
            if (username === validUsername && password === validPassword) {
                document.getElementById("login-section").style.display = "none";
                document.getElementById("main-app").style.display = "block";
                localStorage.setItem("isLoggedIn", "true");
            } else {
                document.getElementById("login-error").style.display = "block";
            }
        }
    
        function checkLogin() {
            if (localStorage.getItem("isLoggedIn") === "true") {
                document.getElementById("login-section").style.display = "none";
                document.getElementById("main-app").style.display = "block";
            }
        }
    </script>
    </body>
    